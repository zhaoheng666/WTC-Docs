# é£ä¹¦é›†æˆè§„èŒƒ

**é€‚ç”¨èŒƒå›´**: docs å­é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ

ä»é£ä¹¦æ–‡æ¡£è¯»å–åŸå§‹ä¿¡æ¯ï¼ŒåŠ å·¥åè‡ªåŠ¨ç”Ÿæˆæ ‡å‡† Markdown æ–‡æ¡£å¹¶æäº¤åˆ° docs é¡¹ç›®ã€‚

**å®Œæ•´å·¥ä½œæµç¨‹å’Œè§„åˆ™**ï¼šè¯·å‚è€ƒ `.claude/skills/feishu-to-docs/SKILL.md`

---

## lark-mcp å·¥å…·ä½¿ç”¨

### å‰ç½®æ¡ä»¶

ç¡®ä¿å·²æ­£ç¡®é…ç½® lark-mcpï¼š

```bash
# æ£€æŸ¥é…ç½®
claude mcp list | grep lark-mcp

# å¦‚æœªé…ç½®ï¼Œå‚è€ƒä¹‹å‰çš„é…ç½®æ­¥éª¤
# ~/.claude.json ä¸­åº”åŒ…å« lark-mcp é…ç½®ï¼ŒåŒ…å« App ID å’Œ Secret
```

### å·¥å…·è°ƒç”¨

#### 1. è·å–é£ä¹¦ Wiki èŠ‚ç‚¹ä¿¡æ¯

```javascript
mcp__lark-mcp__wiki_v2_space_getNode({
  params: {
    token: "FjqOwGH72izxYHkbgKgcUSEbnZb",  // Wiki Token
    obj_type: "wiki"
  },
  useUAT: true  // å¯é€‰ï¼Œè°ƒè¯•æ¨¡å¼
})
```

**å‚æ•°è¯´æ˜**ï¼š
- `token`: ä»é£ä¹¦é“¾æ¥æå–ï¼Œä¾‹å¦‚ `https://ghoststudio.feishu.cn/wiki/FjqOwGH72izxYHkbgKgcUSEbnZb` â†’ token: `FjqOwGH72izxYHkbgKgcUSEbnZb`
- `obj_type`: å›ºå®šä¸º `wiki`

**è¿”å›ä¿¡æ¯**ï¼š
- `title`: æ–‡æ¡£æ ‡é¢˜
- `children`: å­é¡µé¢åˆ—è¡¨
- `document_id`: æ–‡æ¡£ IDï¼ˆç”¨äºè¯»å–å†…å®¹ï¼‰

---

#### 2. è¯»å–æ–‡æ¡£åŸå§‹å†…å®¹

```javascript
mcp__lark-mcp__docx_v1_document_rawContent({
  path: {
    document_id: "XP5Md7Xa9ooFJRx4vALcnmHxn1b"  // ä» getNode è·å¾—
  },
  params: {
    lang: 0  // 0=é»˜è®¤è¯­è¨€, 1=è‹±æ–‡, 2=æ—¥æ–‡
  },
  useUAT: true  // å¯é€‰
})
```

**å‚æ•°è¯´æ˜**ï¼š
- `document_id`: Wiki èŠ‚ç‚¹çš„æ–‡æ¡£ ID
- `lang`: è¯­è¨€å‚æ•°

**è¿”å›ä¿¡æ¯**ï¼š
- `content`: æ–‡æ¡£çš„ XML æ ¼å¼å†…å®¹
- éœ€è¦è§£ææå–æœ‰ç”¨ä¿¡æ¯

---

#### 3. URL è½¬æ¢

é£ä¹¦æ–‡æ¡£çš„ä¸¤ç§å¸¸è§é“¾æ¥æ ¼å¼ï¼š

| æ ¼å¼ | ç¤ºä¾‹ | è¯´æ˜ |
|-----|------|------|
| å®Œæ•´é“¾æ¥ | `https://ghoststudio.feishu.cn/wiki/FjqOwGH72izxYHkbgKgcUSEbnZb` | å¯ç›´æ¥æå– token |
| çŸ­é“¾æ¥ | `https://ghoststudio.feishu.cn/wiki/FjqOwGH72izxYHkbgKgcUSEbnZb?from=from_copylink` | å»é™¤æŸ¥è¯¢å‚æ•°åæå– token |

**æå–æ–¹æ³•**ï¼š

```javascript
// æ­£åˆ™åŒ¹é…æå– Wiki Token
const wikiTokenMatch = url.match(/\/wiki\/([a-zA-Z0-9]+)/);
const wikiToken = wikiTokenMatch ? wikiTokenMatch[1] : null;
```

---

## æ–‡æ¡£æ ¼å¼è§„èŒƒ

### æ‘˜è¦è¡¨æ ¼ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰

ç”Ÿæˆçš„ Markdown æ–‡æ¡£**å¿…é¡»**åœ¨æ‘˜è¦è¡¨æ ¼ä¸­åŒ…å«"åŸæ–‡æ¡£"é“¾æ¥ï¼š

```markdown
## æ‘˜è¦

| | |
|-|-|
| **çŠ¶æ€** | âœ… å·²è§£å†³ / ğŸ”„ å¤„ç†ä¸­ / âŒ æœªä¿®å¤ |
| **æ—¥æœŸ** | 2025å¹´XXæœˆXXæ—¥ |
| **åŸæ–‡æ¡£** | [é£ä¹¦æ–‡æ¡£](https://ghoststudio.feishu.cn/wiki/xxx) |
```

**é‡è¦**ï¼š
- âŒ ä¸è¦åœ¨æ–‡æ¡£æœ«å°¾å•ç‹¬æ·»åŠ "ç°åœºè®°å½•"ç« èŠ‚
- âœ… ç›´æ¥åœ¨æ‘˜è¦è¡¨æ ¼ä¸­æ·»åŠ "åŸæ–‡æ¡£"è¡Œ
- é“¾æ¥æ–‡æœ¬ä½¿ç”¨"é£ä¹¦æ–‡æ¡£"ï¼Œç®€æ´æ˜äº†

---

### å…³é”®æˆªå›¾ä¸‹è½½ï¼ˆè‡ªåŠ¨ï¼‰

**åŠŸèƒ½**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶ä¸‹è½½é£ä¹¦æ–‡æ¡£ä¸­çš„å…³é”®æˆªå›¾ï¼ˆ1-3å¼ ï¼‰ï¼Œä¿å­˜åˆ° `docs/assets/` å¹¶åœ¨ Markdown ä¸­å¼•ç”¨ã€‚

#### è¯†åˆ«è§„åˆ™

| åˆ¤æ–­ç»´åº¦ | è§„åˆ™ |
|---------|------|
| **ä½ç½®** | æ ‡é¢˜ä¸‹æ–¹ç¬¬ä¸€å¼ å›¾ |
| **å‰åæ–‡æœ¬** | åŒ…å«"é—®é¢˜"ã€"é”™è¯¯"ã€"æˆªå›¾"ã€"ç»“æœ" |
| **æ•°é‡é™åˆ¶** | æ¯ä¸ªæ–‡æ¡£æœ€å¤š 3 å¼  |

#### ä¸‹è½½æ–¹æ³•

ä½¿ç”¨ `chrome-devtools` çš„ `take_screenshot` å·¥å…·ï¼š

```javascript
// æ­¥éª¤1: ä» snapshot ä¸­æå–å›¾ç‰‡ uid
uid=3_73 image "é£ä¹¦æ–‡æ¡£ - å›¾ç‰‡" url="https://internal-api-drive-stream.feishu.cn/..."

// æ­¥éª¤2: æˆªå–å›¾ç‰‡å¹¶ä¿å­˜
mcp__chrome_devtools__take_screenshot({
  uid: '3_73',
  format: 'png',
  filePath: '/Users/ghost/work/WorldTourCasino/docs/assets/xxx.png'
})
```

#### æ–‡ä»¶å‘½å

ä½¿ç”¨ MD5 hash å‘½åï¼ˆä¸ VitePress å›¾ç‰‡å¤„ç†ç³»ç»Ÿä¸€è‡´ï¼‰ï¼š

```bash
# ç”Ÿæˆ hash
python3 -c "import hashlib; print(hashlib.md5(b'U214bghiJoSEwzxe0GrcIVTHn5f').hexdigest())"
# è¾“å‡º: 98181749cacff0cd8bbda942aabdb7b5

# æ–‡ä»¶å: 98181749cacff0cd8bbda942aabdb7b5.png
```

#### Markdown å¼•ç”¨

åœ¨æ‘˜è¦è¡¨æ ¼åæ·»åŠ "## é—®é¢˜æˆªå›¾"ç« èŠ‚ï¼š

```markdown
## é—®é¢˜æˆªå›¾

![é—®é¢˜è¡¨ç° - èµ„æºä¸‹è½½å¼¹çª—](/assets/98181749cacff0cd8bbda942aabdb7b5.png)

*æ–°å·è¿›æ¸¸æˆä¸€ç›´å¼¹èµ„æºä¸‹è½½æ¿å­ï¼Œåªæœ‰ç‚¹ NO æ‰èƒ½å…³æ‰*

![éªŒè¯ç»“æœ](/assets/67aa723b4c3ce80c12a3ad36dc63795e.png)

*ä¸‹æ‰é—®é¢˜èµ„æºåçš„éªŒè¯æˆªå›¾*
```

#### é”™è¯¯å¤„ç†

| é”™è¯¯åœºæ™¯ | å¤„ç†ç­–ç•¥ |
|---------|---------|
| **ä¸‹è½½å¤±è´¥** | è·³è¿‡è¯¥å›¾ç‰‡ï¼Œç»§ç»­å¤„ç†å…¶ä»–å›¾ç‰‡ |
| **è¶…å‡ºæ•°é‡** | åªä¸‹è½½å‰ 3 å¼  |
| **æ–‡ä»¶è¿‡å¤§** | > 5MB è·³è¿‡å¹¶è­¦å‘Š |

#### æ³¨æ„äº‹é¡¹

1. **æµè§ˆå™¨ç™»å½•**ï¼šç”¨æˆ·å¿…é¡»åœ¨æµè§ˆå™¨ä¸­å·²ç™»å½•é£ä¹¦
2. **å›¾ç‰‡å¤§å°**ï¼šé™åˆ¶ä¸‹è½½æ•°é‡ï¼ˆ1-3å¼ ï¼‰ï¼Œé¿å…ä»“åº“è†¨èƒ€
3. **é™çº§å¤„ç†**ï¼šå¦‚æœä¸‹è½½å¤±è´¥ï¼Œä¿ç•™é£ä¹¦åŸæ–‡æ¡£é“¾æ¥ä¾›æŸ¥é˜…

---

## é”™è¯¯å¤„ç†

### æƒé™é”™è¯¯

**ç—‡çŠ¶**ï¼š
```
Access denied. One of the following scopes is required:
[wiki:wiki, wiki:wiki:readonly, wiki:node:read]
```

**è§£å†³**ï¼š
1. æ£€æŸ¥ lark-mcp é…ç½®çš„ App ID å’Œ Secret
2. åœ¨é£ä¹¦å¼€å‘è€…åå°ç”³è¯·æƒé™
3. æƒé™åŒ…æ‹¬ï¼š`wiki:wiki:readonly`, `docx:document:readonly`

**å‚è€ƒ**ï¼šç”¨æˆ·é¦–æ¬¡é…ç½® lark-mcp æ—¶å·²ç»å†è¿‡ï¼Œè¯¦è§å†å²è®°å½•

---

### é“¾æ¥æ— æ•ˆ

**ç—‡çŠ¶**ï¼š
```
Wiki token not found or document deleted
```

**å¤„ç†**ï¼š
1. ç¡®è®¤é“¾æ¥æ ¼å¼æ­£ç¡®
2. æ£€æŸ¥æ–‡æ¡£æœªè¢«åˆ é™¤
3. æç¤ºç”¨æˆ·é‡æ–°æä¾›æœ‰æ•ˆé“¾æ¥

---

### ç±»å‹è¯†åˆ«å¤±è´¥

**ç—‡çŠ¶**ï¼šè‡ªåŠ¨è¯†åˆ«æ— æ³•ç¡®å®šæ–‡æ¡£ç±»å‹

**å¤„ç†**ï¼š
```
è‡ªåŠ¨è¯†åˆ«å¤±è´¥ï¼Œè¯·é€‰æ‹©æ–‡æ¡£ç±»å‹ï¼š

1ï¸âƒ£ æ•…éšœæ’æŸ¥ - é—®é¢˜ä¿®å¤ç›¸å…³
2ï¸âƒ£ æ´»åŠ¨ - æ´»åŠ¨è®¾è®¡ç›¸å…³
3ï¸âƒ£ å…³å¡ - å…³å¡é…ç½®ç›¸å…³
4ï¸âƒ£ å…¶ä»– - å…¶ä»–ç±»å‹æ–‡æ¡£

è¯·é€‰æ‹© (1-4):
```

---

### æ–‡ä»¶é‡å

**ç—‡çŠ¶**ï¼šç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨

**å¤„ç†**ï¼š
```
æ–‡ä»¶å·²å­˜åœ¨: docs/æ•…éšœæ’æŸ¥/Couponå…³å¡-æ´»åŠ¨å…¥å£å¼‚å¸¸æ˜¾ç¤ºé—®é¢˜.md

é€‰æ‹©å¤„ç†æ–¹å¼ï¼š
1ï¸âƒ£ è¦†ç›–ç°æœ‰æ–‡ä»¶
2ï¸âƒ£ é‡å‘½åä¸º: xxx-v2.md
3ï¸âƒ£ å–æ¶ˆæ“ä½œ
```

---

## å¸¸è§é—®é¢˜

### Q1ï¼šå¦‚ä½•ä»ç¾¤èŠé“¾æ¥æå–é£ä¹¦æ–‡æ¡£ï¼Ÿ

**A**: é£ä¹¦ç¾¤èŠæ¶ˆæ¯ä¸­å¯èƒ½åŒ…å«æ–‡æ¡£é“¾æ¥ã€‚æå–æ–¹å¼ï¼š

1. ä»æ¶ˆæ¯ä¸­è¯†åˆ« Wiki é“¾æ¥ï¼ˆ`https://ghoststudio.feishu.cn/wiki/xxxx`ï¼‰
2. æˆ–æŸ¥çœ‹æ¶ˆæ¯ä¸­"æ–‡æ¡£"ã€"é“¾æ¥"ç­‰å¼•ç”¨
3. ç›´æ¥æä¾›ç»™ Skill

ç¤ºä¾‹ï¼š
```
åœ¨ç¾¤èŠæ¶ˆæ¯ä¸­çœ‹åˆ°ï¼š
"é—®é¢˜è¯¦æƒ…è§: https://ghoststudio.feishu.cn/wiki/FjqOwGH72izxYHkbgKgcUSEbnZb"

â†’ ç›´æ¥æä¾›é“¾æ¥ï¼š
/feishu-to-docs https://ghoststudio.feishu.cn/wiki/FjqOwGH72izxYHkbgKgcUSEbnZb
```

---

### Q2ï¼šé£ä¹¦æ–‡æ¡£åŒ…å«æˆªå›¾/è§†é¢‘ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ

**A**: å½“å‰ç­–ç•¥ï¼šä¿ç•™é£ä¹¦åŸæ–‡æ¡£é“¾æ¥

- ä¸ä¸‹è½½æˆ–è½¬æ¢åª’ä½“æ–‡ä»¶ï¼ˆå¤æ‚ä¸”æ˜“å‡ºé”™ï¼‰
- ç”Ÿæˆ Markdown æ–‡æ¡£é“¾æ¥æŒ‡å‘åŸé£ä¹¦
- ç”¨æˆ·éœ€è¦å®Œæ•´ä¿¡æ¯æ—¶è®¿é—®é£ä¹¦åŸæ–‡æ¡£æŸ¥çœ‹æˆªå›¾/è§†é¢‘

ä¼˜ç‚¹ï¼š
- ç®€åŒ–æµç¨‹ï¼Œé™ä½å‡ºé”™é£é™©
- ä¿æŒä¿¡æ¯æ›´æ–°ï¼ˆé£ä¹¦æ–‡æ¡£ä¿®æ”¹è‡ªåŠ¨åæ˜ ï¼‰
- ä¾¿äºç‰ˆæœ¬ç®¡ç†ï¼ˆåŸæ–‡æ¡£æ°¸ä¹…å­˜æ¡£ï¼‰

---

### Q3ï¼šåŒä¸€æ–‡æ¡£å¯èƒ½å±äºå¤šä¸ªç±»å‹ï¼Œå¦‚ä½•è¯†åˆ«ï¼Ÿ

**A**: æŒ‰ä¼˜å…ˆçº§åˆ¤æ–­

```
æ•…éšœæ’æŸ¥ > æ´»åŠ¨ > å…³å¡ > å…¶ä»–
```

å³ï¼šå¦‚æœæ—¢åŒ…å«é—®é¢˜åˆåŒ…å«æ´»åŠ¨ä¿¡æ¯ï¼Œä¼˜å…ˆè¯†åˆ«ä¸ºæ•…éšœæ’æŸ¥ã€‚

å¦‚ç¡®å®æ··åˆå‹æ–‡æ¡£ï¼Œå»ºè®®æ‰‹åŠ¨é€‰æ‹©ä¸»è¦ç±»å‹ã€‚

---

### Q4ï¼šç”Ÿæˆæ–‡æ¡£åå¦‚ä½•ä¿®æ”¹æˆ–åˆ é™¤ï¼Ÿ

**A**: æ–‡æ¡£ç”Ÿæˆåçš„ä¿®æ”¹æµç¨‹ï¼š

1. **ä¿®æ”¹å†…å®¹**ï¼š
   - ç›´æ¥ç¼–è¾‘ Markdown æ–‡ä»¶
   - æ›´æ–°å `git add` å’Œ `git commit`
   - æäº¤ä¿¡æ¯ç¤ºä¾‹ï¼š`docs: æ›´æ–° - [æ–‡æ¡£å]`

2. **åˆ é™¤æ–‡æ¡£**ï¼š
   - ç›´æ¥åˆ é™¤æ–‡ä»¶
   - æäº¤ä¿¡æ¯ç¤ºä¾‹ï¼š`docs: åˆ é™¤ - [æ–‡æ¡£å]`

---

### Q5ï¼šå¦‚ä½•å¤„ç†æ²¡æœ‰æƒé™çš„é£ä¹¦æ–‡æ¡£ï¼Ÿ

**A**:

1. **ç¾¤èŠåˆ†äº«æ–‡æ¡£**ï¼š
   - æ£€æŸ¥æ˜¯å¦æœ‰æƒé™è®¿é—®
   - æƒé™ç¼ºå¤±æ—¶ï¼Œæç¤ºç”¨æˆ·ç”³è¯·
   - æˆ–è®©æ–‡æ¡£æ‰€æœ‰è€…åˆ†äº«æƒé™

2. **ä¸ªäººæ–‡æ¡£**ï¼š
   - å‘æ–‡æ¡£æ‰€æœ‰è€…è¯·æ±‚æƒé™
   - æˆ–æä¾›æ–‡æ¡£å†…å®¹æˆªå›¾ï¼ˆæ‰‹åŠ¨å¤„ç†ï¼‰

---

## å‚è€ƒèµ„æº

- **Skill å®Œæ•´è§„èŒƒ**: `.claude/skills/feishu-to-docs/SKILL.md`
- **VitePress è§„èŒƒ**: `docs/å·¥ç¨‹-å·¥å…·/ai-rules/docs/vitepress.md`
- **æ–‡æ¡£åˆ†ç±»è§„èŒƒ**: `CLAUDE.md > æ–‡æ¡£è®°å½•åŸåˆ™`
- **Git æäº¤è§„èŒƒ**: `.claude/skills/git-commit/SKILL.md`
- **lark-mcp æ–‡æ¡£**: https://github.com/larksuiteoapi/lark-mcp

---

**æœ€åæ›´æ–°**: 2025-10-31
**ç»´æŠ¤è€…**: WorldTourCasino Team
